# WpfMvvmLabo
現在このリポジトリではフリーソフト：ImaZipper のプロトタイプを作成しています。

## ImaZipper とは
自炊したマンガを [iPhone の SideBook](https://apps.apple.com/jp/app/sidebooks/id409777225) で読むために巻ごとに分かれているアーカイブファイルを 1 つの zip ファイルにするためのアプリです。

## ImaZipper の要求仕様
- 複数のアーカイブファイルを指定可能。（ドラッグ＆ドロップはサポート？）
- 複数のフォルダを選択して指定可能。（ドラッグ＆ドロップはサポート？）
- 展開対応アーカイブファイルは zip、rar。
- 最終的な出力は zip のみ。
- アーカイブファイルは 2GB ごとに分割して出力する。
- アーカイブファイルに含まれる画像ファイルの内、対応予定フォーマットは jpg、png、bmp。
- 展開先に指定したフォルダにアーカイブファイル単位のフォルダを作成してアーカイブファイルに含まれていた画像ファイルを展開する。
- 展開先に作られるフォルダは『nnn巻』固定。（桁数は指定したアーカイブファイルから推測）
- 展開先フォルダに展開する画像ファイル名を『ファイル名 + 連番.拡張子』のようなファイル名で展開する。
- 展開先フォルダに展開する画像ファイルの属性を指定可能にする。
- 展開先フォルダに展開する画像ファイルが横長（width の方が長い画像）であれば中央で分割して展開する。(ImageSplitter と同じ)
    - ファイル名の昇順で並び替えた前から 5 個、後ろから 5 個以内のファイルは分割対象外とする。（カバーは分割したくない）
        - 但し、横長ファイルが全ファイル数の 90% を超えている場合は上記の条件にはあてはめない。
- 出力先に指定したフォルダへ出力する zip ファイル名の指定を可能にする。
- 処理実行時にアプリで判断できない場合は出力処理を中止してエラー内容を確認できるようにする。
- このアプリから出力した設定内容を覚えておき、次回作成時（新刊が発売された等）の操作を簡単にする。
- 複数の出力を指定して自動処理できるようにする。

とりあえず上記が現時点で妖精作戦が想定している仕様ですが当然変更も発生しますし、プロトタイプを作成するための実験室なので名前空間等もいい加減ですし突然 UI が大幅に変わる可能性もあるのでご了承ください。

